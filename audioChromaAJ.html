<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Audio Chroma</title>
  <audio src="Final_Fantasy_6_Magicite_Made_My_Mind_Melt_OC_ReMix.mp3" id="audio" controls>Audio not supported</audio>
  <script src="audioChroma.js"></script>
</head>

<body ng-app="Page" ng-controller="PageController">
    <div class="songs">
        <span ng-repeat="song in songs">
            <input type="radio" ng-model="$parent.currentSong" ng-value="song" />
            <label>{{song.name+' ('+song.band+')'}}</label>
        </span>
    </div>
    
    <div class="controls" ng-show="currentSong">
        <h2>{{currentSong.name}}</h2>
        <button ng-show="!playing" ng-click="playTracks()">Play</button>
        <button ng-show="playing" ng-click="stopTracks()">Stop</button>
    </div>
    
    <div class="track-container">
        <div ng-controller="TrackController" class="track" ng-class="{loading:loading==true}" ng-repeat="(key, track) in currentSong.tracks">
            <input type="range" ng-model="trackVolume" />
            <canvas></canvas>
            <span class="spinner" ng-show="loading"></span>
        </div>
    </div>
</body>

</html>
